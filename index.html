<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>South Australia Crime Visualisation | Matthew Brasacchio</title>

  <!-- Vega Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <main>
    <header>
      <h1>South Australia Crime Visualisation (2011–2022)</h1>
      <h2>By Matthew Brasacchio | FIT3179 Data Visualisation</h2>
    </header>

    <section class="intro">
      <p>
        This webpage explores crime distribution and category trends across South Australia from 
        2011 to 2022. It uses multiple Vega-Lite visualisations to reveal both spatial patterns 
        and changes in crime composition over time.
      </p>
    </section>

    <!-- === VISUALISATION 1: MAP + TOP 5 BAR (HCONCAT) === -->
    <section class="vis">
      <h3>Geographic Distribution and Most Affected Suburbs</h3>
      <p>
        The visualisation below combines a choropleth map with a bar chart to show where 
        crime is most concentrated and which suburbs consistently experience the highest 
        crime rates. Adjust the year slider to explore different time periods.
      </p>

      <div id="vis1" class="vis-container"></div>
    </section>

    <!-- === VISUALISATION 2: STACKED BAR CHART === -->
    <section class="vis">
      <h3>Crime Composition by Category Over Time</h3>
      <p>
        This stacked bar chart illustrates how different types of crime have contributed 
        to total incidents each year. It highlights both long-term shifts and periods of 
        relative stability within the dataset.
      </p>

      <div id="vis2" class="vis-container"></div>
    </section>

    <section class="vis">
      <h3>Worst Suburbs By violent Crimes</h3>
      <p>
        This radar chart compares suburbs with the highest crime rates, highlighting areas 
        with consistently elevated levels of violent or high-impact offences. It provides 
        a clear visual snapshot of the regions contributing most to South Australia's 
        overall crime burden.
      </p>
      <div id="vis4" class="vis-container"></div>

    </section>

    <section class="conclusion">
      <h3>Conclusion</h3>
      <p>
        Crime distribution is strongly influenced by population density, with urban centres 
        such as Adelaide showing the highest incident counts. The temporal analysis reveals 
        evolving trends across crime types, helping identify areas where preventative 
        strategies may be most effective.
      </p>
    </section>

    <footer>
      <p>Data Source: South Australia Police | Visualisations created using Vega-Lite</p>
    </footer>
  </main>

  <!-- === Vega Embed Scripts === -->
  <script type="text/javascript">
    // First visualisation — Map + Top 5 Bar
    const specVis1 = "https://raw.githubusercontent.com/matt-b-0/FIT-3179-A2/main/JSON/WK10HW.json";
    vegaEmbed('#vis1', specVis1, { "actions": false })
      .then(() => console.log("Map + Top 5 Bar visualisation loaded"))
      .catch(console.error);

    // Second visualisation — Stacked Bar Chart
    const specVis2 = "https://raw.githubusercontent.com/matt-b-0/FIT-3179-A2/main/JSON/Crime_Breakdown.json";
    vegaEmbed('#vis2', specVis2, { "actions": false })
      .then(() => console.log("Stacked Bar Chart loaded"))
      .catch(console.error);
    
    const specVis4 = "https://raw.githubusercontent.com/matt-b-0/FIT-3179-A2/main/JSON/Crime_Radar.json";
    vegaEmbed('#vis4', specVis4, { actions: false })
      .then(() => console.log("Radar chart loaded"))
      .catch(console.error);
</script>
  </script>

</body>
</html>
